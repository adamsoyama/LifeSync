import"./modulepreload-polyfill-B5Qt9EMX.js";import{b as f}from"./utils-BV7AsqTe.js";function p(){const t=sessionStorage.getItem("loggedInUser");if(window.location.pathname.includes("./pages/dashboard.html")&&!t){const e=document.createElement("div");e.textContent="You must be logged in to access this page. Redirecting...",e.style.position="fixed",e.style.top="20px",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.backgroundColor="#ff4d4d",e.style.color="#fff",e.style.padding="12px 24px",e.style.borderRadius="8px",e.style.boxShadow="0 4px 6px rgba(0,0,0,0.2)",e.style.zIndex="9999",document.body.appendChild(e),setTimeout(()=>{window.location.href="./pages/authentication.html"},2500)}}document.addEventListener("DOMContentLoaded",()=>{y(),p(),I(),f()});const h=document.getElementById("signUp"),v=document.getElementById("signIn"),c=document.getElementById("container");h.addEventListener("click",()=>{c.classList.add("right-panel-active")});v.addEventListener("click",()=>{c.classList.remove("right-panel-active")});function l(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function m(t){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[\W_]).{8,}$/.test(t)}function n(t,s=null){const e=document.createElement("div");e.className="alert-message",e.textContent=t,document.body.appendChild(e),setTimeout(()=>{e.classList.add("fade-out"),setTimeout(()=>{e.remove(),s&&(window.location.href=s)},500)},2e3)}function u(t){sessionStorage.setItem("loggedInUser",JSON.stringify(t))}function y(){sessionStorage.getItem("loggedInUser")&&(window.location.href="./dashboard.html")}document.getElementById("registerForm").addEventListener("submit",t=>{t.preventDefault();const s=document.getElementById("registerName").value.trim(),e=document.getElementById("registerEmail").value.trim(),i=document.getElementById("registerPassword").value.trim();if(!s)return n("Name is required.");if(!l(e))return n("Invalid email format.");if(!m(i))return n("Password must be at least 8 characters, include a number, uppercase letter, and special character.");const o=JSON.parse(localStorage.getItem("registeredUsers"))||[];if(o.find(g=>g.email===e))return n("This email is already registered. Please log in.");const r={name:s,email:e,password:i};o.push(r),localStorage.setItem("registeredUsers",JSON.stringify(o)),u(r),n("Registration Successful! Redirecting...","dashboard.html")});document.getElementById("loginForm").addEventListener("submit",t=>{t.preventDefault();const s=document.getElementById("loginEmail").value.trim(),e=document.getElementById("loginPassword").value.trim();if(!l(s))return n("Invalid email format.");if(!m(e))return n("Password must be at least 8 characters, include a number, uppercase letter, and special character.");const o=(JSON.parse(localStorage.getItem("registeredUsers"))||[]).find(a=>a.email===s);if(!o)return n("No account found with this email.");if(o.password!==e)return n("Incorrect password.");u(o),n("Login Successful! Redirecting...","dashboard.html")});let d;function I(){const s=()=>{clearTimeout(d),d=setTimeout(()=>{sessionStorage.removeItem("loggedInUser"),alert("You have been logged out due to inactivity."),window.location.href="./pages/authentication.html"},6e5)};["mousemove","keydown","scroll","click"].forEach(e=>document.addEventListener(e,s)),s()}
