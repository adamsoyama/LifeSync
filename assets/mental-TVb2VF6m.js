import"./modulepreload-polyfill-B5Qt9EMX.js";import{f as d,i as g,a as p,b as y}from"./services-DSB0CCEI.js";const f="https://run.mocky.io/v3/e1aae645-3b1a-4f1f-a466-fae8028269a1",h="https://run.mocky.io/v3/c3d1e92d-41e5-422f-8c7f-d378b7ca0774";async function S(){const e=await d(f),t=(e==null?void 0:e.questions)||[];if(t.length>0){sessionStorage.setItem("moodQuestions",JSON.stringify(t));const o=document.getElementById("mood-question-container");o.innerHTML=t.map((n,i)=>`
        <div class="question-block">
          <p>${i+1}. ${n.text}</p>
          <div class="scale-options">
            ${[1,2,3,4,5].map(r=>`
              <label>
                <input type="radio" name="question${i}" value="${r}"> ${r}
              </label>`).join("")}
          </div>
        </div>
      `).join("")}}function l(){const e=JSON.parse(sessionStorage.getItem("moodQuestions"))||[];let t=0;e.forEach((r,s)=>{const a=document.querySelector(`input[name="question${s}"]:checked`);a&&(t+=Number(a.value))});const o=e.length?t/e.length:0,n=v(o),i={averageMood:Number(o.toFixed(2)),moodCategory:n,submittedAt:new Date().toISOString()};return sessionStorage.setItem("moodSummary",JSON.stringify(i)),b(i),i}function v(e){return e<=2?"Stress":e<=3?"Anxiety":e<=4?"Low Motivation":"Well-being"}function b(e){const t=JSON.parse(localStorage.getItem("moodTrendHistory"))||[];t.push(e),localStorage.setItem("moodTrendHistory",JSON.stringify(t))}function c(){return JSON.parse(sessionStorage.getItem("moodSummary"))}async function I(){const e=await d(h),t=(e==null?void 0:e.therapists)||[],o=document.getElementById("therapist-suggestions"),n=JSON.parse(sessionStorage.getItem("moodSummary")),i=(n==null?void 0:n.moodCategory)||"Well-being",r=t.filter(s=>{var a;return(a=s.focus)==null?void 0:a.includes(i)});sessionStorage.setItem("therapists",JSON.stringify(r)),o.innerHTML=r.length?r.map(s=>`
      <div class="therapist-card">
        <h3>${s.name}</h3>
        <p><strong>Focus:</strong> ${s.focus.join(", ")}</p>
        <p><strong>Skills:</strong> ${s.skills.join(", ")}</p>
        <p><strong>Education:</strong> ${s.education}</p>
        <p><strong>Languages:</strong> ${s.languages.join(", ")}</p>
        <p><strong>Certifications:</strong> ${s.certifications.join(", ")}</p>
        <p><strong>Contact:</strong> ${s.contact_info}</p>
      </div>
    `).join(""):`<p>No matching therapists for "${i}". Support is still available 💚</p>`}document.addEventListener("DOMContentLoaded",async()=>{g(),p(),y(),await S(),m(!1),E(),c()&&u()});document.getElementById("submit-mood").addEventListener("click",()=>{l()&&(alert("✅ Your mood has been saved."),u())});document.getElementById("start-breathing").addEventListener("click",()=>{const e=document.getElementById("breathing-instructions");e.innerHTML="🫁 Breathe in...";let t=0;const o=["Hold it...","Breathe out...","Relax...","Breathe in..."],n=setInterval(()=>{t++,e.innerHTML=o[t%o.length],t>10&&(clearInterval(n),e.innerHTML="✅ Breathing complete. Loading therapist suggestion...",setTimeout(()=>{I(),document.getElementById("therapist-note").innerText="Here’s a therapist we recommend based on your mood. Click below to return to your dashboard.",document.getElementById("return-to-dashboard").classList.remove("hidden")},2e3))},3e3)});document.getElementById("return-to-dashboard").addEventListener("click",()=>{const e=c();e&&sessionStorage.setItem("dashboardMood",JSON.stringify(e)),window.location.href="../../src/pages/dashboard.html"});function m(e){const t=document.querySelector(".journaling-section"),o=document.querySelector(".mindfulness-section"),n=document.querySelector(".wellness-insights");t.style.display=e?"block":"none",o.style.display=e?"block":"none",n.style.display=e?"block":"none"}function u(e){m(!0);const t=document.getElementById("mood-select"),o=["Grateful","Irritated","Peaceful","Tired","Hopeful","Lonely","Excited","Overwhelmed","Focused","Anxious"];t.innerHTML='<option value="">Choose your dominant mood for today</option>'+o.map(n=>`<option value="${n}">${n}</option>`).join("")}function E(){["start-breathing","mood-select"].forEach(t=>{const o=document.getElementById(t);o==null||o.addEventListener("click",()=>{c()||alert("⚠️ Please complete the Mood Tracker first.")})})}document.getElementById("submit-mood").addEventListener("click",()=>{l();const e=document.createElement("div");e.id="mood-confirmation-message",e.textContent="✅ Mood saved. Please select your dominant mood.",document.querySelector(".mood-tracker").appendChild(e),document.getElementById("mood-dropdown-container").classList.remove("hidden")});
