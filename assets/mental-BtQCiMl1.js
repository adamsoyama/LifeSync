import"./modulepreload-polyfill-B5Qt9EMX.js";import{f as l,i as u,a as g,b as p}from"./services-w6WyPBlA.js";const f="https://run.mocky.io/v3/e1aae645-3b1a-4f1f-a466-fae8028269a1",y="https://run.mocky.io/v3/c3d1e92d-41e5-422f-8c7f-d378b7ca0774";async function h(){const e=await l(f),t=(e==null?void 0:e.questions)||[];if(t.length>0){sessionStorage.setItem("moodQuestions",JSON.stringify(t));const o=document.getElementById("mood-question-container");o.innerHTML=t.map((s,n)=>`
        <div class="question-block">
          <p>${n+1}. ${s.text}</p>
          <div class="scale-options">
            ${[1,2,3,4,5].map(r=>`
              <label>
                <input type="radio" name="question${n}" value="${r}"> ${r}
              </label>`).join("")}
          </div>
        </div>
      `).join("")}}function S(){const e=JSON.parse(sessionStorage.getItem("moodQuestions"))||[];let t=0;e.forEach((r,i)=>{const a=document.querySelector(`input[name="question${i}"]:checked`);a&&(t+=Number(a.value))});const o=e.length?t/e.length:0,s=v(o),n={averageMood:Number(o.toFixed(2)),moodCategory:s,submittedAt:new Date().toISOString()};return sessionStorage.setItem("moodSummary",JSON.stringify(n)),b(n),n}function v(e){return e<=2?"Stress":e<=3?"Anxiety":e<=4?"Low Motivation":"Well-being"}function b(e){const t=JSON.parse(localStorage.getItem("moodTrendHistory"))||[];t.push(e),localStorage.setItem("moodTrendHistory",JSON.stringify(t))}function c(){return JSON.parse(sessionStorage.getItem("moodSummary"))}async function I(){const e=await l(y),t=(e==null?void 0:e.therapists)||[],o=document.getElementById("therapist-suggestions"),s=JSON.parse(sessionStorage.getItem("moodSummary")),n=(s==null?void 0:s.moodCategory)||"Well-being",r=t.filter(i=>{var a;return(a=i.focus)==null?void 0:a.includes(n)});sessionStorage.setItem("therapists",JSON.stringify(r)),o.innerHTML=r.length?r.map(i=>`
      <div class="therapist-card">
        <h3>${i.name}</h3>
        <p><strong>Focus:</strong> ${i.focus.join(", ")}</p>
        <p><strong>Skills:</strong> ${i.skills.join(", ")}</p>
        <p><strong>Education:</strong> ${i.education}</p>
        <p><strong>Languages:</strong> ${i.languages.join(", ")}</p>
        <p><strong>Certifications:</strong> ${i.certifications.join(", ")}</p>
        <p><strong>Contact:</strong> ${i.contact_info}</p>
      </div>
    `).join(""):`<p>No matching therapists for "${n}". Support is still available üíö</p>`}document.addEventListener("DOMContentLoaded",async()=>{var e,t,o;try{u(),g(),p(),await h(),m(!1),E();const s=c();s&&d(s),(e=document.getElementById("submit-mood"))==null||e.addEventListener("click",()=>{const n=S();n&&(alert("‚úÖ Your mood has been saved."),d(n),M())}),(t=document.getElementById("start-breathing"))==null||t.addEventListener("click",()=>{const n=document.getElementById("breathing-instructions");n.innerHTML="ü´Å Breathe in...";let r=0;const i=["Hold it...","Breathe out...","Relax...","Breathe in..."],a=setInterval(()=>{r++,n.innerHTML=i[r%i.length],r>10&&(clearInterval(a),n.innerHTML="‚úÖ Breathing complete. Loading therapist suggestion...",setTimeout(()=>{I(),document.getElementById("therapist-note").innerText="Here‚Äôs a therapist we recommend based on your mood. Click below to return to your dashboard.",document.getElementById("return-to-dashboard").classList.remove("hidden")},2e3))},3e3)}),(o=document.getElementById("return-to-dashboard"))==null||o.addEventListener("click",()=>{const n=c();n&&sessionStorage.setItem("dashboardMood",JSON.stringify(n)),window.location.href="../../src/pages/dashboard.html"})}catch(s){console.error("üß† Mental Health init failed:",s)}});function m(e){const t=document.querySelector(".journaling-section"),o=document.querySelector(".mindfulness-section"),s=document.querySelector(".wellness-insights");t.style.display=e?"block":"none",o.style.display=e?"block":"none",s.style.display=e?"block":"none"}function d(e){m(!0);const t=document.getElementById("mood-select"),o=["Grateful","Irritated","Peaceful","Tired","Hopeful","Lonely","Excited","Overwhelmed","Focused","Anxious"];t.innerHTML='<option value="">Choose your dominant mood for today</option>'+o.map(s=>`<option value="${s}">${s}</option>`).join("")}function E(){["start-breathing","mood-select"].forEach(t=>{const o=document.getElementById(t);o==null||o.addEventListener("click",()=>{c()||alert("‚ö†Ô∏è Please complete the Mood Tracker first.")})})}function M(){var t,o;const e=document.createElement("div");e.id="mood-confirmation-message",e.textContent="‚úÖ Mood saved. Please select your dominant mood.",(t=document.querySelector(".mood-tracker"))==null||t.appendChild(e),(o=document.getElementById("mood-dropdown-container"))==null||o.classList.remove("hidden")}
